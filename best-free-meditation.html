<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
 <title>Free Meditation Timer with Sounds, Breathing Guide & Interval Bells | eHelpFulTools</title>
  <meta name="description" content="Relax with our free Meditation Timer. Includes custom session lengths, interval bells, ambient sounds, breathing guide, streak tracker & journaling. Perfect for mindfulness and focus." />
  <meta name="keywords" content="meditation timer, free meditation timer online, mindfulness timer, interval bells meditation, breathing guide, meditation streak tracker, guided meditation, ambient sounds for meditation" />
  <meta name="author" content="eHelpFulTools" />
  <meta name="robots" content="index, follow" />

  <meta name="google-adsense-account" content="ca-pub-8868584487794979">

  <!-- Open Graph for Social Media -->
  <meta property="og:title" content="Free Meditation Timer with Sounds & Breathing Guide | eHelpFulTools" />
  <meta property="og:description" content="Try our free Meditation Timer with breathing guide, ambient sounds, interval bells & journaling. Track your streaks and meditate anytime, anywhere." />
  <meta property="og:url" content="https://ehelpfultools.tech/best-free-meditation.html" />
  <meta property="og:image" content="https://ehelpfultools.tech/iamges/meditation-timer-preview.jpg" />
  <meta property="og:type" content="website" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Free Meditation Timer with Sounds & Breathing Guide | eHelpFulTools" />
  <meta name="twitter:description" content="Free online Meditation Timer with interval bells, ambient sounds, breathing guide & streak tracking." />
  <meta name="twitter:image" content="https://ehelpfultools.tech/iamges/meditation-timer-preview.jpg" />

  <!-- Favicon -->
  <link rel="icon" href="images/logo.png" type="image/png" />
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Meditation Timer",
  "url": "https://ehelpfultools.tech/best-free-meditation.html",
  "applicationCategory": "HealthApplication",
  "operatingSystem": "All",
  "description": "Free Meditation Timer with customizable session lengths, interval bells, breathing guide, ambient sounds, streak tracker & journaling. Perfect for mindfulness practice.",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "publisher": {
    "@type": "Organization",
    "name": "eHelpFulTools",
    "url": "https://ehelpfultools.tech",
    "logo": {
      "@type": "ImageObject",
      "url": "https://ehelpfultools.tech/iamges/logo.png"
    }
  },
  "featureList": [
    "Custom meditation session length",
    "Interval bells for mindfulness",
    "Ambient sound selection",
    "Breathing guide animation",
    "Meditation streak tracking",
    "Session journaling"
  ]
}
</script>

    <style>
    /* =============================
       DESIGN SYSTEM (CSS Variables)
       ============================= */
    :root {
      --bg: #eef3f7;
      --panel: #ffffff;
      --text: #0f172a;
      --muted: #6b7280;
      --brand-1: #70c3ff;     /* blue */
      --brand-2: #b38bff;     /* purple */
      --brand-3: #79e0c9;     /* green */
      --ring: #7dd3fc;
      --accent: #8b5cf6;
      --danger: #ef4444;
      --ok: #10b981;
      --shadow: 0 10px 30px rgba(2, 6, 23, .08);
      --radius-lg: 18px;
      --radius-sm: 12px;
      --gap: 18px;
      --progress: 0deg; /* updated by JS to rotate conic gradient */
      --breath-scale: 1; /* updated by JS for breathing animation */
    }

    /* Dark theme */
    body[data-theme="dark"] {
      --bg: #0b1220;
      --panel: #0f172a;
      --text: #e5e7eb;
      --muted: #94a3b8;
      --ring: #38bdf8;
      --shadow: 0 16px 40px rgba(0,0,0,.45);
    }

    /* Global resets */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background: radial-gradient(1200px 800px at 10% 10%, rgba(112,195,255,.18), transparent 60%),
                  radial-gradient(1000px 700px at 90% 20%, rgba(179,139,255,.18), transparent 60%),
                  linear-gradient(180deg, var(--bg), var(--bg));
      background-attachment: fixed;
    }

    .page {
      min-height: 100dvh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: var(--gap);
    }

    /* Top bar */
    .topbar {
      position: sticky;
      top: 0;
      z-index: 10;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: var(--gap);
      padding: 14px clamp(14px, 4vw, 28px);
      background: linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,.25));
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(148,163,184,.25);
    }
    body[data-theme="dark"] .topbar {
      background: linear-gradient(180deg, rgba(15,23,42,.65), rgba(15,23,42,.25));
      border-bottom-color: rgba(148,163,184,.15);
    }

    .quote {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 14px;
      border-radius: var(--radius-sm);
      background: linear-gradient(120deg, rgba(112,195,255,.18), rgba(121,224,201,.18));
      box-shadow: var(--shadow);
      min-height: 48px;
      font-weight: 500;
    }

    .theme-toggle {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      background: var(--panel);
      box-shadow: var(--shadow);
      border: 1px solid rgba(148,163,184,.25);
      cursor: pointer;
      user-select: none;
      transition: transform .2s ease;
    }
    .theme-toggle:hover { transform: translateY(-1px); }
    .theme-toggle input { display: none; }
    .switch {
      width: 48px; height: 28px; border-radius: 999px;
      background: linear-gradient(120deg, var(--brand-2), var(--brand-1));
      position: relative;
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.25);
    }
    .knob {
      position: absolute; inset: 3px auto 3px 3px; width: 22px; height: 22px;
      background: #fff; border-radius: 50%; transition: left .25s ease;
    }
    body[data-theme="dark"] .knob { left: 23px; }

    /* Layout grid */
    .content {
      display: grid;
      grid-template-columns: 1.3fr .9fr; /* main + side */
      gap: clamp(16px, 3vw, 28px);
      padding: 0 clamp(14px, 4vw, 28px) 28px;
    }
    @media (max-width: 980px) {
      .content { grid-template-columns: 1fr; }
    }

    .card {
      background: var(--panel);
      border: 1px solid rgba(148,163,184,.25);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: clamp(16px, 3vw, 24px);
    }

    /* Main: Timer section */
    .timer-wrap {
      display: grid;
      grid-template-columns: 1fr;
      gap: var(--gap);
      align-items: center;
      justify-items: center;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .ring {
      --size: clamp(220px, 40vw, 360px);
      width: var(--size);
      height: var(--size);
      border-radius: 50%;
      display: grid; place-items: center;
      background:
        radial-gradient(closest-side, var(--panel) 82%, transparent 83% 100%),
        conic-gradient(from -90deg, var(--accent) var(--progress), rgba(148,163,184,.25) 0);
      box-shadow: 0 0 0 10px rgba(139,92,246,.10), 0 0 0 1px rgba(148,163,184,.25), var(--shadow);
      transition: background .2s ease;
    }

    .ring .inner {
      width: calc(var(--size) - 40px);
      height: calc(var(--size) - 40px);
      border-radius: 50%;
      background: linear-gradient(180deg, rgba(112,195,255,.12), rgba(179,139,255,.12));
      display: grid; place-items: center;
      box-shadow: inset 0 8px 24px rgba(2,6,23,.1);
    }

    .time {
      font-size: clamp(36px, 6vw, 64px);
      font-weight: 700;
      letter-spacing: 1px;
    }
    .sub { color: var(--muted); margin-top: 4px; font-size: 14px; }

    .controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }

    .btn {
      appearance: none; border: 0; cursor: pointer; user-select: none;
      border-radius: 999px; padding: 12px 18px; font-weight: 600; letter-spacing: .3px;
      background: linear-gradient(120deg, var(--brand-3), var(--brand-1));
      color: #0b1220; box-shadow: var(--shadow);
      transition: transform .15s ease, filter .2s ease, opacity .2s ease;
    }
    .btn:hover { transform: translateY(-1px); filter: brightness(1.05); }
    .btn:active { transform: translateY(0); }
    .btn.secondary { background: linear-gradient(120deg, var(--brand-2), var(--brand-1)); color: #fff; }
    .btn.ghost { background: transparent; border: 1px solid rgba(148,163,184,.4); color: var(--text); }
    .btn.danger { background: linear-gradient(120deg, #fda4af, #fca5a5); }

    .presets { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
    .chip {
      padding: 8px 12px; border-radius: 999px; border: 1px solid rgba(148,163,184,.35);
      background: rgba(255,255,255,.6);
      cursor: pointer; transition: background .2s ease, transform .15s ease;
    }
    .chip:hover { background: rgba(255,255,255,.85); transform: translateY(-1px); }
    body[data-theme="dark"] .chip { background: rgba(15,23,42,.6); }

    .custom-time {
      display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center;
      max-width: 360px; width: 100%; margin-inline: auto;
    }
    .input {
      width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(148,163,184,.35);
      background: var(--panel); color: var(--text);
      outline: none; transition: box-shadow .2s ease, border-color .2s ease;
    }
    .input:focus {
      border-color: var(--ring);
      box-shadow: 0 0 0 4px color-mix(in oklab, var(--ring) 20%, transparent);
    }

    .timer-options { display: grid; gap: 14px; }
    .opt-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    @media (max-width: 520px) { .opt-row { grid-template-columns: 1fr; } }

    .field { display: grid; gap: 6px; text-align: left; }
    .label { font-size: 13px; color: var(--muted); }

    /* Sidebar */
    .side {
      display: grid; gap: var(--gap);
    }

    .sound-grid { display: grid; gap: 10px; grid-template-columns: 1fr 1fr; }
    @media (max-width: 660px) { .sound-grid { grid-template-columns: 1fr; } }

    .breathing {
      display: grid; gap: 12px; place-items: center; text-align: center;
    }
    .breath-circle {
      --bsize: 160px;
      width: var(--bsize); height: var(--bsize);
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.85), rgba(255,255,255,.1)),
                  linear-gradient(120deg, var(--brand-2), var(--brand-3));
      box-shadow: 0 12px 30px rgba(2,6,23,.15), inset 0 0 0 6px rgba(255,255,255,.25);
      transform: scale(var(--breath-scale));
      transition: transform 2s ease-in-out;
    }

    /* Stats & journal */
    .bottom {
      display: grid; gap: var(--gap);
      grid-template-columns: 1fr 1fr;
      padding: 0 clamp(14px, 4vw, 28px) 28px;
    }
    @media (max-width: 980px) { .bottom { grid-template-columns: 1fr; } }

    .stats { display: grid; gap: 12px; }
    .kpis { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    @media (max-width: 540px) { .kpis { grid-template-columns: 1fr; } }
    .kpi {
      padding: 14px; border-radius: var(--radius-sm);
      background: linear-gradient(180deg, rgba(112,195,255,.16), rgba(179,139,255,.16));
      border: 1px solid rgba(148,163,184,.25);
      text-align: center; box-shadow: var(--shadow);
    }
    .kpi .num { font-size: 28px; font-weight: 800; }
    .kpi .label { color: var(--muted); font-size: 12px; }

    .journal {
      display: grid; gap: 10px;
    }
    .textarea {
      min-height: 110px; resize: vertical;
      padding: 12px 14px; border-radius: 12px; border: 1px solid rgba(148,163,184,.35);
      background: var(--panel); color: var(--text);
    }
    .share-row { display: flex; gap: 10px; flex-wrap: wrap; }

    /* Subtle floating blobs (decor) */
    .blob {
      position: absolute; inset: auto; width: 220px; height: 220px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.55), rgba(255,255,255,0));
      filter: blur(10px); border-radius: 50%;
      animation: float 12s ease-in-out infinite;
      opacity: .5; pointer-events: none;
    }
    .blob.b1 { top: -40px; left: -40px; }
    .blob.b2 { bottom: -40px; right: -40px; animation-delay: -6s; }
    @keyframes float { 50% { transform: translateY(12px) scale(1.03); } }

    /* Helper badges */
    .hint { font-size: 12px; color: var(--muted); }
  </style>
</head>
<body data-theme="light">
  <div class="page">
    <!-- Top Bar -->
    <header class="topbar" role="banner">
      <div class="quote" aria-live="polite">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M9 7H7a4 4 0 0 0-4 4v6h6V7Zm12 0h-2a4 4 0 0 0-4 4v6h6V7Z" stroke="currentColor" stroke-width="1.5"/></svg>
        <span id="dailyQuote">Take a deep breath… you are here.</span>
      </div>
      <label class="theme-toggle" id="themeToggle" title="Toggle dark/light mode">
        <input type="checkbox" aria-label="Dark mode" />
        <span>Theme</span>
        <span class="switch" aria-hidden="true"><i class="knob"></i></span>
      </label>
    </header>

    <!-- Main Content -->
    <main class="content" role="main">
      <!-- Timer / Controls -->
      <section class="card timer-wrap" aria-labelledby="timerTitle">
        <div class="blob b1"></div>
        <div class="blob b2"></div>

        <h1 id="timerTitle" style="margin:0">Meditation Timer</h1>

        <div class="ring" id="progressRing" aria-label="Timer progress visual">
          <div class="inner">
            <div>
              <div class="time" id="timerDisplay" aria-live="polite">00:00</div>
              <div class="sub" id="sessionStatus">Ready</div>
            </div>
          </div>
        </div>

        <div class="controls" role="group" aria-label="Timer controls">
          <button class="btn" id="startBtn">Start</button>
          <button class="btn secondary" id="pauseBtn">Pause</button>
          <button class="btn ghost" id="resetBtn">Reset</button>
        </div>

        <div class="timer-options" style="margin-top:6px;">
          <div class="presets" id="presetButtons" aria-label="Presets">
            <button class="chip" data-min="5">5 min</button>
            <button class="chip" data-min="10">10 min</button>
            <button class="chip" data-min="15">15 min</button>
            <button class="chip" data-min="20">20 min</button>
            <button class="chip" data-min="30">30 min</button>
          </div>
          <div class="custom-time">
            <input class="input" id="customMinutes" type="number" min="1" max="180" placeholder="Custom minutes (e.g., 12)" />
            <button class="btn" id="applyCustom">Apply</button>
          </div>

          <div class="opt-row">
            <div class="field">
              <label class="label" for="intervalMinutes">Interval bell every (minutes)</label>
              <input class="input" id="intervalMinutes" type="number" min="0" max="60" step="1" placeholder="0 = off" />
              <span class="hint">Set to 0 to disable mindful bells.</span>
            </div>
            <div class="field">
              <label class="label" for="bellVolume">Bell volume</label>
              <input class="input" id="bellVolume" type="range" min="0" max="1" step="0.01" value="0.8" />
            </div>
          </div>
        </div>

        <!-- Audio elements (JS controls these) -->
        <audio id="bellAudio" preload="auto" src="sounds/bell.mp3"></audio>
        <audio id="ambienceAudio" preload="auto" loop></audio>
      </section>

      <!-- Sidebar: Ambience + Breathing -->
      <aside class="side">
       <section class="card" aria-labelledby="ambienceTitle">
  <h2 id="ambienceTitle" style="margin-top:0;">Background Ambience</h2>
  <div class="field">
    <label class="label" for="ambienceSelect">Choose ambience</label>
    <select class="input" id="ambienceSelect" aria-label="Ambience sound selector">
      <option value="">None</option>
      <option value="anime">Anime Village</option>
      <option value="morning">Morning</option>
      <option value="riverside">Riverside (Ganga)</option>
      <option value="popular">Popular</option>
      <option value="forest">Forest</option>
      <option value="sunrise">Sunrise</option>
      <option value="time">Time</option>
      <option value="flute">Flute</option>
      <option value="fire">Fire</option>
      <option value="custom">Your Sound</option>
    </select>
  </div>
  <div id="customSoundField" class="field" style="display:none; margin-top: 10px;">
    <label class="label" for="customSoundFile">Upload an MP3/WAV file</label>
    <input class="input" id="customSoundFile" type="file" accept="audio/mpeg, audio/wav" aria-label="Upload a custom ambience sound" />
  </div>
  <div class="controls" style="justify-content:flex-start;">
    <button class="btn" id="ambienceToggle">Play</button>
    <input class="input" id="ambienceVolume" type="range" min="0" max="1" step="0.01" value="0.4" style="max-width:220px;" />
  </div>
  <p class="hint">Only one ambience plays at a time. Toggle Play/Stop.</p>

  <script type="application/json" id="soundFilesJSON">{
    "anime": "sounds/AnimeVillage.mp3",
    "morning": "sounds/morning.mp3",
    "riverside": "sounds/riverganga.mp3",
    "popular": "sounds/best.mp3",
    "forest": "sounds/forest.mp3",
    "sunrise": "sounds/sunrise.mp3",
    "time": "sounds/time.mp3",
    "flute": "sounds/flute.mp3",
    "fire": "sounds/fire.mp3"
  }</script>
</section>
        <section class="card breathing" aria-labelledby="breathingTitle">
          <h2 id="breathingTitle" style="margin:0;">Breathing Guide</h2>
          <div id="breathCircle" class="breath-circle" aria-label="Breathing circle"></div>
          <div class="opt-row">
            <div class="field">
              <label class="label" for="breathIn">Inhale (seconds)</label>
              <input class="input" id="breathIn" type="number" min="1" max="20" value="4" />
            </div>
            <div class="field">
              <label class="label" for="breathOut">Exhale (seconds)</label>
              <input class="input" id="breathOut" type="number" min="1" max="20" value="4" />
            </div>
          </div>
          <div class="controls" style="justify-content:center;">
            <button class="btn secondary" id="breathToggle">Start Breathing</button>
          </div>
          <p class="hint">Circle expands on inhale, contracts on exhale.</p>
        </section>
      </aside>
    </main>

    <!-- Bottom: Stats, History, Journal, Share -->
    <section class="bottom">
      <div class="card stats" aria-labelledby="historyTitle">
        <h2 id="historyTitle" style="margin:0">Session History</h2>
        <div class="kpis">
          <div class="kpi"><div class="num" id="todayMins">0</div><div class="label">Minutes today</div></div>
          <div class="kpi"><div class="num" id="weekMins">0</div><div class="label">Minutes this week</div></div>
          <div class="kpi"><div class="num" id="streakDays">0</div><div class="label">Day streak</div></div>
        </div>
        <p class="hint" id="lastSession">Last: —</p>
      </div>

      <div class="card journal" aria-labelledby="journalTitle">
        <h2 id="journalTitle" style="margin:0">Session Journal</h2>
        <textarea class="textarea" id="journalText" placeholder="How do you feel?"></textarea>
        <div class="share-row">
          <button class="btn" id="saveJournal">Save Note</button>
          <button class="btn secondary" id="shareBtn">Share</button>
        </div>
        <p class="hint">Share: “I just completed a <span id="shareDuration">0</span>-min meditation on eHelpFulTools.tech 🧘🌿”.</p>
      </div>
    </section>

    <footer style="padding: 0 clamp(14px, 4vw, 28px) 24px; color: var(--muted); text-align:center;">
      <small>Built for calm focus • Works offline • No sign-in</small>
    </footer>
  </div>

  <!-- Placeholder script tag: add generated JS here later -->

<script id="appScript">
    "use strict";
(function(){
  document.addEventListener("DOMContentLoaded", () => {
    /* =========
       ELEMENTS
       ========= */
    const body = document.body;
    const dailyQuoteEl = document.getElementById("dailyQuote");
    const themeToggle = document.getElementById("themeToggle");

    const progressRing = document.getElementById("progressRing");
    const timerDisplay = document.getElementById("timerDisplay");
    const sessionStatus = document.getElementById("sessionStatus");

    const startBtn = document.getElementById("startBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const resetBtn = document.getElementById("resetBtn");

    const presetButtons = document.getElementById("presetButtons");
    const customMinutes = document.getElementById("customMinutes");
    const applyCustom = document.getElementById("applyCustom");

    const intervalMinutesInput = document.getElementById("intervalMinutes");
    const bellVolumeInput = document.getElementById("bellVolume");

    const bellAudio = document.getElementById("bellAudio");
    const ambienceAudio = document.getElementById("ambienceAudio");
    const ambienceSelect = document.getElementById("ambienceSelect");
    const ambienceToggle = document.getElementById("ambienceToggle");
    const ambienceVolume = document.getElementById("ambienceVolume");
    const customSoundField = document.getElementById("customSoundField");
    const customSoundFile = document.getElementById("customSoundFile");
    const soundFiles = JSON.parse(document.getElementById("soundFilesJSON").textContent);

    const breathCircle = document.getElementById("breathCircle");
    const breathInInput = document.getElementById("breathIn");
    const breathOutInput = document.getElementById("breathOut");
    const breathToggle = document.getElementById("breathToggle");

    const todayMins = document.getElementById("todayMins");
    const weekMins = document.getElementById("weekMins");
    const streakDays = document.getElementById("streakDays");
    const lastSession = document.getElementById("lastSession");

    const journalText = document.getElementById("journalText");
    const saveJournal = document.getElementById("saveJournal");
    const shareBtn = document.getElementById("shareBtn");
    const shareDuration = document.getElementById("shareDuration");

    /* =========
       STATE
       ========= */
    let totalSeconds = 0;
    let remaining = 0;
    let running = false;
    let rafId = null;
    let lastTick = null;
    let intervalBellMins = 0;
    let nextIntervalAt = 0;
    let selectedAmbience = "";
    let customSoundUrl = "";
    let breathingActive = false;
    let breathIn = 4, breathOut = 4;
    let breathTimer = null;
    let theme = localStorage.getItem("med_theme") || "light";

    /* =========
       UTILS
       ========= */
    const getTodayISO = () => new Date().toISOString().slice(0,10);
    const fmtTime = (s) => {
      const h = Math.floor(s/3600), m = Math.floor((s%3600)/60), sec = Math.floor(s%60);
      return h>0 ? [h,m,sec].map(v=>String(v).padStart(2,"0")).join(":")
                 : [m,sec].map(v=>String(v).padStart(2,"0")).join(":");
    };
    const sumWeek = (totals, todayISO) => {
      let sum=0; const today = new Date(todayISO);
      for(let i=0;i<7;i++){
        const d = new Date(today); d.setDate(today.getDate()-i);
        const iso = d.toISOString().slice(0,10);
        sum += totals[iso]||0;
      }
      return sum;
    };

    /* =========
       INIT THEME & QUOTE
       ========= */
    body.setAttribute("data-theme", theme);
    if(theme==="dark") themeToggle.querySelector("input").checked = true;

    const quotes = [
      "Breathe in calm, breathe out tension.",
      "Peace begins with a single breath.",
      "You are exactly where you need to be.",
      "Let your mind settle like still water.",
      "Every moment is a fresh beginning.",
      "Slow down, you’re doing fine.",
      "Calm mind, kind heart.",
      "Pause. Breathe. Smile.",
      "Inner peace is always within reach.",
      "Embrace the silence inside you."
    ];
    const qKey="med_quote", qDate="med_quoteDate"; 
    const todayISO=getTodayISO();
    let storedQ=localStorage.getItem(qKey), storedD=localStorage.getItem(qDate);
    if(!storedQ || storedD!==todayISO){
      storedQ=quotes[Math.floor(Math.random()*quotes.length)];
      localStorage.setItem(qKey,storedQ);
      localStorage.setItem(qDate,todayISO);
    }
    dailyQuoteEl.textContent=storedQ;

    /* =========
       TIMER LOGIC
       ========= */
    function render(){
      timerDisplay.textContent=fmtTime(remaining);
      const pct = totalSeconds? (totalSeconds-remaining)/totalSeconds : 0;
      progressRing.style.setProperty("--progress", `${Math.max(0,Math.min(360*pct,360))}deg`);
    }
    function tick(now){
      if(!running) return;
      const delta = (now-lastTick)/1000;
      lastTick=now;
      remaining-=delta;

    if(intervalBellMins>0 && remaining<=nextIntervalAt){
      // Set the audio source and then play it
      bellAudio.src = "sounds/bell.mp3";
      bellAudio.volume=parseFloat(bellVolumeInput.value);
      bellAudio.currentTime=0; 
      bellAudio.play().catch(err => console.error("Interval bell play error:", err));
      nextIntervalAt-=intervalBellMins*60;
    }
      if(remaining<=0){
        
        remaining=0; render();
        running=false; sessionStatus.textContent="Completed";
    
    bellAudio.src = "sounds/bell.mp3";
    bellAudio.volume=parseFloat(bellVolumeInput.value);
    bellAudio.currentTime=0; 
    bellAudio.play().catch(err => console.error("Start bell play error:", err));
        updateStats();
        journalText.focus();
        ambienceAudio.pause();
        return;
      }
      render();
      rafId=requestAnimationFrame(tick);
    }

    function startTimer(){
      if(totalSeconds<=0) return;
      if(remaining<=0) remaining=totalSeconds;
      
      bellAudio.volume=parseFloat(bellVolumeInput.value);
      bellAudio.currentTime=0; bellAudio.play();
      
      if(selectedAmbience || customSoundUrl){
        if(ambienceAudio.paused){
          ambienceAudio.play().catch(err => console.error("Ambience play error:", err));
        }
      }
      
      running=true; lastTick=performance.now();
      if(intervalBellMins>0) nextIntervalAt=remaining-intervalBellMins*60;
      sessionStatus.textContent="In session…";
      rafId=requestAnimationFrame(tick);
    }
    function pauseTimer(){ 
      running=false; 
      cancelAnimationFrame(rafId); 
      sessionStatus.textContent="Paused";
      ambienceAudio.pause();
    }
    function resetTimer(){ 
      running=false; 
      cancelAnimationFrame(rafId); 
      remaining=totalSeconds; 
      render(); 
      sessionStatus.textContent="Ready";
      ambienceAudio.pause();
    }

    /* =========
       CONTROLS
       ========= */
    presetButtons.addEventListener("click",e=>{
      if(e.target.dataset.min){
        const min=parseInt(e.target.dataset.min);
        totalSeconds=min*60; remaining=totalSeconds;
        shareDuration.textContent=min;
        localStorage.setItem("med_lastMinutes",min);
        render();
      }
    });
    applyCustom.addEventListener("click",()=>{
      let min=Math.max(1,Math.min(180,parseInt(customMinutes.value)||0));
      totalSeconds=min*60; remaining=totalSeconds;
      shareDuration.textContent=min;
      localStorage.setItem("med_lastMinutes",min);
      render();
    });
    startBtn.addEventListener("click",startTimer);
    pauseBtn.addEventListener("click",pauseTimer);
    resetBtn.addEventListener("click",resetTimer);

    intervalMinutesInput.addEventListener("change",()=>{
      intervalBellMins=parseInt(intervalMinutesInput.value)||0;
      localStorage.setItem("med_interval",intervalBellMins);
      if(running) nextIntervalAt=remaining-intervalBellMins*60;
    });
    bellVolumeInput.addEventListener("input",()=>{
      bellAudio.volume=parseFloat(bellVolumeInput.value);
      localStorage.setItem("med_bellVol",bellVolumeInput.value);
    });

    /* =========
       AMBIENCE
       ========= */
    ambienceSelect.addEventListener("change",()=>{
      selectedAmbience=ambienceSelect.value;
      localStorage.setItem("med_ambience",selectedAmbience);
      ambienceAudio.pause();
      ambienceToggle.textContent = "Play";

      if(selectedAmbience === "custom"){
        customSoundField.style.display = "grid";
      } else {
        customSoundField.style.display = "none";
      }
      
      if(!selectedAmbience){ 
        ambienceAudio.src = "";
        return;
      }
      
      if(selectedAmbience !== "custom"){
        ambienceAudio.src=soundFiles[selectedAmbience];
        ambienceAudio.volume=parseFloat(ambienceVolume.value);
        ambienceAudio.loop=true;
      }
    });
    
    customSoundFile.addEventListener("change", (e) => {
        const file = e.target.files[0];
        if (file) {
            customSoundUrl = URL.createObjectURL(file);
            ambienceAudio.src = customSoundUrl;
            ambienceAudio.volume = parseFloat(ambienceVolume.value);
            ambienceAudio.loop = true;
        }
    });
    
    ambienceToggle.addEventListener("click",()=>{
      if(selectedAmbience === "custom" && !customSoundUrl){
          alert("Please select a custom audio file first.");
          return;
      }
      if(!selectedAmbience) return;

      if(ambienceAudio.paused){
        ambienceAudio.play().catch(err => console.error("Ambience play error:", err));
        ambienceToggle.textContent="Stop";
      } else {
        ambienceAudio.pause(); ambienceToggle.textContent="Play";
      }
    });
    ambienceVolume.addEventListener("input",()=>{
      ambienceAudio.volume=parseFloat(ambienceVolume.value);
      localStorage.setItem("med_ambVol",ambienceVolume.value);
    });

    /* =========
       BREATHING
       ========= */
    function doBreathCycle(){
      if(!breathingActive) return;
      breathIn=parseInt(breathInInput.value)||4;
      breathOut=parseInt(breathOutInput.value)||4;
      breathCircle.style.setProperty("--breath-scale","1.25");
      sessionStatus.textContent="Inhale";
      breathTimer=setTimeout(()=>{
        breathCircle.style.setProperty("--breath-scale","1");
        sessionStatus.textContent="Exhale";
        breathTimer=setTimeout(doBreathCycle, breathOut*1000);
      }, breathIn*1000);
    }
    breathToggle.addEventListener("click",()=>{
      if(!breathingActive){
        breathingActive=true; breathToggle.textContent="Stop Breathing"; doBreathCycle();
      } else {
        breathingActive=false; breathToggle.textContent="Start Breathing";
        clearTimeout(breathTimer);
        breathCircle.style.setProperty("--breath-scale","1");
      }
    });

    /* =========
       THEME
       ========= */
    const themeCheckbox = themeToggle.querySelector("input");
    themeCheckbox.addEventListener("change", (e) => {
      const newTheme = e.target.checked ? "dark" : "light";
      body.setAttribute("data-theme", newTheme);
      localStorage.setItem("med_theme", newTheme);
    });

    /* =========
       STATS
       ========= */
    function updateStats(){
      const key="med_stats"; const stats=JSON.parse(localStorage.getItem(key)||"{}");
      if(!stats.totals) stats.totals={};
      const todayISO=getTodayISO();
      const mins=Math.round(totalSeconds/60);
      stats.totals[todayISO]=(stats.totals[todayISO]||0)+mins;
      if(stats.lastDate){
        const y=new Date(stats.lastDate), t=new Date(todayISO);
        const diff=(t-y)/(1000*3600*24);
        if(diff===1) stats.streak=(stats.streak||0)+1;
        else if(diff===0) {/* same day */}
        else stats.streak=1;
      } else { stats.streak=1; }
      stats.lastDate=todayISO;
      localStorage.setItem(key,JSON.stringify(stats));
      todayMins.textContent=stats.totals[todayISO]||0;
      weekMins.textContent=sumWeek(stats.totals,todayISO);
      streakDays.textContent=stats.streak||0;
      lastSession.textContent="Last: "+new Date().toLocaleString()+" — "+mins+" min";
    }

    /* =========
       JOURNAL
       ========= */
    saveJournal.addEventListener("click",()=>{
      const text=journalText.value, key="med_journal_"+getTodayISO();
      localStorage.setItem(key,text);
      saveJournal.textContent="Saved ✓";
      setTimeout(()=>saveJournal.textContent="Save Note",1500);
    });
    const jKey="med_journal_"+getTodayISO();
    if(localStorage.getItem(jKey)) journalText.value=localStorage.getItem(jKey);

    /* =========
       SHARE
       ========= */
    shareBtn.addEventListener("click",()=>{
      const txt=`I just completed a ${shareDuration.textContent}-min meditation on eHelpFulTools.tech 🧘🌿`;
      if(navigator.share) navigator.share({text:txt});
      else {
        const url="https://wa.me/?text="+encodeURIComponent(txt);
        window.open(url,"_blank");
      }
    });

    /* =========
       RESTORE SAVED SETTINGS
       ========= */
    const lastMin=localStorage.getItem("med_lastMinutes"); if(lastMin){ totalSeconds=lastMin*60; remaining=totalSeconds; shareDuration.textContent=lastMin; render();}
    const savedInterval=localStorage.getItem("med_interval"); if(savedInterval){ intervalBellMins=parseInt(savedInterval); intervalMinutesInput.value=savedInterval;}
    const bellVol=localStorage.getItem("med_bellVol"); if(bellVol){ bellVolumeInput.value=bellVol; bellAudio.volume=parseFloat(bellVol);}
    const ambVol=localStorage.getItem("med_ambVol"); if(ambVol){ ambienceVolume.value=ambVol; ambienceAudio.volume=parseFloat(ambVol);}
    const amb=localStorage.getItem("med_ambience"); if(amb){ selectedAmbience=amb; ambienceSelect.value=amb; if(amb==="custom"){ customSoundField.style.display = "grid"; } else { customSoundField.style.display="none";} }
    const stats=JSON.parse(localStorage.getItem("med_stats")||"{}");
    if(stats.totals){ todayMins.textContent=stats.totals[getTodayISO()]||0; weekMins.textContent=sumWeek(stats.totals,getTodayISO()); streakDays.textContent=stats.streak||0; }

    render();
  });
})();
"use strict";
(function(){
  document.addEventListener("DOMContentLoaded", () => {
    /* =========
       ELEMENTS
       ========= */
    const body = document.body;
    const dailyQuoteEl = document.getElementById("dailyQuote");
    const themeToggle = document.getElementById("themeToggle");

    const progressRing = document.getElementById("progressRing");
    const timerDisplay = document.getElementById("timerDisplay");
    const sessionStatus = document.getElementById("sessionStatus");

    const startBtn = document.getElementById("startBtn");
    const pauseBtn = document.getElementById("pauseBtn");
    const resetBtn = document.getElementById("resetBtn");

    const presetButtons = document.getElementById("presetButtons");
    const customMinutes = document.getElementById("customMinutes");
    const applyCustom = document.getElementById("applyCustom");

    const intervalMinutesInput = document.getElementById("intervalMinutes");
    const bellVolumeInput = document.getElementById("bellVolume");

    const bellAudio = document.getElementById("bellAudio");
    const ambienceAudio = document.getElementById("ambienceAudio");
    const ambienceSelect = document.getElementById("ambienceSelect");
    const ambienceToggle = document.getElementById("ambienceToggle");
    const ambienceVolume = document.getElementById("ambienceVolume");
    const soundFiles = JSON.parse(document.getElementById("soundFilesJSON").textContent);

    const breathCircle = document.getElementById("breathCircle");
    const breathInInput = document.getElementById("breathIn");
    const breathOutInput = document.getElementById("breathOut");
    const breathToggle = document.getElementById("breathToggle");

    const todayMins = document.getElementById("todayMins");
    const weekMins = document.getElementById("weekMins");
    const streakDays = document.getElementById("streakDays");
    const lastSession = document.getElementById("lastSession");

    const journalText = document.getElementById("journalText");
    const saveJournal = document.getElementById("saveJournal");
    const shareBtn = document.getElementById("shareBtn");
    const shareDuration = document.getElementById("shareDuration");

    /* =========
       STATE
       ========= */
    let totalSeconds = 0;
    let remaining = 0;
    let running = false;
    let rafId = null;
    let lastTick = null;
    let intervalBellMins = 0;
    let nextIntervalAt = 0;
    let selectedAmbience = "";
    let breathingActive = false;
    let breathIn = 4, breathOut = 4;
    let breathTimer = null;
    let theme = localStorage.getItem("med_theme") || "light";

    /* =========
       UTILS
       ========= */
    const getTodayISO = () => new Date().toISOString().slice(0,10);
    const fmtTime = (s) => {
      const h = Math.floor(s/3600), m = Math.floor((s%3600)/60), sec = Math.floor(s%60);
      return h>0 ? [h,m,sec].map(v=>String(v).padStart(2,"0")).join(":")
                 : [m,sec].map(v=>String(v).padStart(2,"0")).join(":");
    };
    const sumWeek = (totals, todayISO) => {
      let sum=0; const today = new Date(todayISO);
      for(let i=0;i<7;i++){
        const d = new Date(today); d.setDate(today.getDate()-i);
        const iso = d.toISOString().slice(0,10);
        sum += totals[iso]||0;
      }
      return sum;
    };

    /* =========
       INIT THEME & QUOTE
       ========= */
    body.setAttribute("data-theme", theme);
    if(theme==="dark") themeToggle.querySelector("input").checked = true;

    const quotes = [
      "Breathe in calm, breathe out tension.",
      "Peace begins with a single breath.",
      "You are exactly where you need to be.",
      "Let your mind settle like still water.",
      "Every moment is a fresh beginning.",
      "Slow down, you’re doing fine.",
      "Calm mind, kind heart.",
      "Pause. Breathe. Smile.",
      "Inner peace is always within reach.",
      "Embrace the silence inside you."
    ];
    const qKey="med_quote", qDate="med_quoteDate"; 
    const todayISO=getTodayISO();
    let storedQ=localStorage.getItem(qKey), storedD=localStorage.getItem(qDate);
    if(!storedQ || storedD!==todayISO){
      storedQ=quotes[Math.floor(Math.random()*quotes.length)];
      localStorage.setItem(qKey,storedQ);
      localStorage.setItem(qDate,todayISO);
    }
    dailyQuoteEl.textContent=storedQ;

    /* =========
       TIMER LOGIC
       ========= */
    function render(){
      timerDisplay.textContent=fmtTime(remaining);
      const pct = totalSeconds? (totalSeconds-remaining)/totalSeconds : 0;
      progressRing.style.setProperty("--progress", `${Math.max(0,Math.min(360*pct,360))}deg`);
    }
    function tick(now){
      if(!running) return;
      const delta = (now-lastTick)/1000;
      lastTick=now;
      remaining-=delta;
      if(intervalBellMins>0 && remaining<=nextIntervalAt){
        bellAudio.volume=parseFloat(bellVolumeInput.value);
        bellAudio.currentTime=0; bellAudio.play();
        nextIntervalAt-=intervalBellMins*60;
      }
      if(remaining<=0){
        remaining=0; render();
        running=false; sessionStatus.textContent="Completed";
        bellAudio.volume=parseFloat(bellVolumeInput.value);
        bellAudio.currentTime=0; bellAudio.play();
        updateStats();
        journalText.focus();
        // Stop background ambience when session completes
        ambienceAudio.pause();
        return;
      }
      render();
      rafId=requestAnimationFrame(tick);
    }

    function startTimer(){
      if(totalSeconds<=0) return;
      if(remaining<=0) remaining=totalSeconds;
      
      // Play start bell
      bellAudio.volume=parseFloat(bellVolumeInput.value);
      bellAudio.currentTime=0; bellAudio.play();
      
      // Play background ambience if one is selected and it's paused
      if(selectedAmbience && ambienceAudio.paused){
          ambienceAudio.src = soundFiles[selectedAmbience];
          ambienceAudio.volume = parseFloat(ambienceVolume.value);
          ambienceAudio.loop = true;
          ambienceAudio.play().catch(err => console.error("Ambience play error:", err));
      }
      
      running=true; lastTick=performance.now();
      if(intervalBellMins>0) nextIntervalAt=remaining-intervalBellMins*60;
      sessionStatus.textContent="In session…";
      rafId=requestAnimationFrame(tick);
    }
    function pauseTimer(){ 
      running=false; 
      cancelAnimationFrame(rafId); 
      sessionStatus.textContent="Paused";
      // Pause background ambience
      ambienceAudio.pause();
    }
    function resetTimer(){ 
      running=false; 
      cancelAnimationFrame(rafId); 
      remaining=totalSeconds; 
      render(); 
      sessionStatus.textContent="Ready";
      // Stop background ambience
      ambienceAudio.pause();
    }

    /* =========
       CONTROLS
       ========= */
    presetButtons.addEventListener("click",e=>{
      if(e.target.dataset.min){
        const min=parseInt(e.target.dataset.min);
        totalSeconds=min*60; remaining=totalSeconds;
        shareDuration.textContent=min;
        localStorage.setItem("med_lastMinutes",min);
        render();
      }
    });
    applyCustom.addEventListener("click",()=>{
      let min=Math.max(1,Math.min(180,parseInt(customMinutes.value)||0));
      totalSeconds=min*60; remaining=totalSeconds;
      shareDuration.textContent=min;
      localStorage.setItem("med_lastMinutes",min);
      render();
    });
    startBtn.addEventListener("click",startTimer);
    pauseBtn.addEventListener("click",pauseTimer);
    resetBtn.addEventListener("click",resetTimer);

    intervalMinutesInput.addEventListener("change",()=>{
      intervalBellMins=parseInt(intervalMinutesInput.value)||0;
      localStorage.setItem("med_interval",intervalBellMins);
      if(running) nextIntervalAt=remaining-intervalBellMins*60;
    });
    bellVolumeInput.addEventListener("input",()=>{
      bellAudio.volume=parseFloat(bellVolumeInput.value);
      localStorage.setItem("med_bellVol",bellVolumeInput.value);
    });

    /* =========
       AMBIENCE
       ========= */
    ambienceSelect.addEventListener("change",()=>{
      selectedAmbience=ambienceSelect.value;
      localStorage.setItem("med_ambience",selectedAmbience);
      if(!selectedAmbience){ambienceAudio.pause(); ambienceToggle.textContent="Play"; return;}
      if(!ambienceAudio.paused){
        ambienceAudio.src=soundFiles[selectedAmbience];
        ambienceAudio.play();
      }
    });
    ambienceToggle.addEventListener("click",()=>{
      if(!selectedAmbience) return;
      if(ambienceAudio.paused){
        ambienceAudio.src=soundFiles[selectedAmbience];
        ambienceAudio.volume=parseFloat(ambienceVolume.value);
        ambienceAudio.play();
        ambienceToggle.textContent="Stop";
      } else {
        ambienceAudio.pause(); ambienceAudio.currentTime=0; ambienceToggle.textContent="Play";
      }
    });
    ambienceVolume.addEventListener("input",()=>{
      ambienceAudio.volume=parseFloat(ambienceVolume.value);
      localStorage.setItem("med_ambVol",ambienceVolume.value);
    });

    /* =========
       BREATHING
       ========= */
    function doBreathCycle(){
      if(!breathingActive) return;
      breathIn=parseInt(breathInInput.value)||4;
      breathOut=parseInt(breathOutInput.value)||4;
      breathCircle.style.setProperty("--breath-scale","1.25");
      sessionStatus.textContent="Inhale";
      breathTimer=setTimeout(()=>{
        breathCircle.style.setProperty("--breath-scale","1");
        sessionStatus.textContent="Exhale";
        breathTimer=setTimeout(doBreathCycle, breathOut*1000);
      }, breathIn*1000);
    }
    breathToggle.addEventListener("click",()=>{
      if(!breathingActive){
        breathingActive=true; breathToggle.textContent="Stop Breathing"; doBreathCycle();
      } else {
        breathingActive=false; breathToggle.textContent="Start Breathing";
        clearTimeout(breathTimer);
        breathCircle.style.setProperty("--breath-scale","1");
      }
    });

    /* =========
       THEME
       ========= */
    // Find the checkbox input inside the label
    const themeCheckbox = themeToggle.querySelector("input");
    // Listen for the "change" event on the checkbox itself
    themeCheckbox.addEventListener("change", (e) => {
      const newTheme = e.target.checked ? "dark" : "light";
      body.setAttribute("data-theme", newTheme);
      localStorage.setItem("med_theme", newTheme);
    });

    /* =========
       STATS
       ========= */
    function updateStats(){
      const key="med_stats"; const stats=JSON.parse(localStorage.getItem(key)||"{}");
      if(!stats.totals) stats.totals={};
      const todayISO=getTodayISO();
      const mins=Math.round(totalSeconds/60);
      stats.totals[todayISO]=(stats.totals[todayISO]||0)+mins;
      if(stats.lastDate){
        const y=new Date(stats.lastDate), t=new Date(todayISO);
        const diff=(t-y)/(1000*3600*24);
        if(diff===1) stats.streak=(stats.streak||0)+1;
        else if(diff===0) {/* same day */}
        else stats.streak=1;
      } else { stats.streak=1; }
      stats.lastDate=todayISO;
      localStorage.setItem(key,JSON.stringify(stats));
      todayMins.textContent=stats.totals[todayISO]||0;
      weekMins.textContent=sumWeek(stats.totals,todayISO);
      streakDays.textContent=stats.streak||0;
      lastSession.textContent="Last: "+new Date().toLocaleString()+" — "+mins+" min";
    }

    /* =========
       JOURNAL
       ========= */
    saveJournal.addEventListener("click",()=>{
      const text=journalText.value, key="med_journal_"+getTodayISO();
      localStorage.setItem(key,text);
      saveJournal.textContent="Saved ✓";
      setTimeout(()=>saveJournal.textContent="Save Note",1500);
    });
    const jKey="med_journal_"+getTodayISO();
    if(localStorage.getItem(jKey)) journalText.value=localStorage.getItem(jKey);

    /* =========
       SHARE
       ========= */
    shareBtn.addEventListener("click",()=>{
      const txt=`I just completed a ${shareDuration.textContent}-min meditation on eHelpFulTools.tech 🧘🌿`;
      if(navigator.share) navigator.share({text:txt});
      else {
        const url="https://wa.me/?text="+encodeURIComponent(txt);
        window.open(url,"_blank");
      }
    });

    /* =========
       RESTORE SAVED SETTINGS
       ========= */
    const lastMin=localStorage.getItem("med_lastMinutes"); if(lastMin){ totalSeconds=lastMin*60; remaining=totalSeconds; shareDuration.textContent=lastMin; render();}
    const savedInterval=localStorage.getItem("med_interval"); if(savedInterval){ intervalBellMins=parseInt(savedInterval); intervalMinutesInput.value=savedInterval;}
    const bellVol=localStorage.getItem("med_bellVol"); if(bellVol){ bellVolumeInput.value=bellVol; bellAudio.volume=parseFloat(bellVol);}
    const ambVol=localStorage.getItem("med_ambVol"); if(ambVol){ ambienceVolume.value=ambVol; ambienceAudio.volume=parseFloat(ambVol);}
    const amb=localStorage.getItem("med_ambience"); if(amb){ selectedAmbience=amb; ambienceSelect.value=amb; if(amb) ambienceAudio.src=soundFiles[amb];}
    const stats=JSON.parse(localStorage.getItem("med_stats")||"{}");
    if(stats.totals){ todayMins.textContent=stats.totals[getTodayISO()]||0; weekMins.textContent=sumWeek(stats.totals,getTodayISO()); streakDays.textContent=stats.streak||0; }

    render();
  });
})();
</script>
 <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDbNYKUKukHO38WrWfiZo2ARWwqjUf8OeI",
            authDomain: "ehelpfultool.firebaseapp.com",
            projectId: "ehelpfultool",
            storageBucket: "ehelpfultool.firebasestorage.app",
            messagingSenderId: "572405415507",
            appId: "1:572405415507:web:9addd73fae3fb78973d0a6",
            measurementId: "G-MN8GGWK084"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
</body>
</html>
